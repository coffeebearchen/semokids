import { prisma } from "../infra/prisma";

type WriteRunArgs = {
  input: unknown;
  output: unknown;
};

export async function writeRun({ input, output }: WriteRunArgs) {
  const record = await prisma.run.create({
    data: {
      inputJson: JSON.stringify(input),
      outputJson: JSON.stringify(output),
    },
    select: { id: true, createdAt: true },
  });

  return record;
}
